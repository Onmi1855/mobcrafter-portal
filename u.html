<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MobCrafter Portal</title>
</head>
<body>
<script>
(() => {
  // /u が開かれてしまった時の救済ページ。
  // 期待: /u/13 または /u/<uuid>
  // /u だけならトップへ戻す。
  // もし ?p=/u/13 のようなパラメータがあれば /u/index.html に転送する。

  const qs = new URLSearchParams(location.search);
  const p = qs.get("p");

  if (p && /^\/u\/[^\/?#]+/.test(p)) {
    location.replace("/u/index.html?p=" + encodeURIComponent(p));
    return;
  }

  // 何も情報が無いならトップ
  location.replace("/");
})();
</script>
</body>
</html>
